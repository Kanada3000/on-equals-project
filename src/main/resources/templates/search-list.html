<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ua">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>OnEquals</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/main-adapt.css">
    <link rel="stylesheet" href="/css/menu.css">
    <link rel="stylesheet" href="/css/search.css">
    <link rel="stylesheet" href="/css/search-1440.css">
</head>
<body>

<header>
    <th:block th:include="/block/block-header.html :: header"></th:block>
</header>
<main>
    <div class="main__block">
        <div class="search">
            <form id="search">
                <label>
                    <input type="text" name="key_words" class="search_input" placeholder="Ключові слова">
                </label>
                <label>
                    <select form="search" name="specialization" class="search_input">
                        <option hidden disabled selected>Спеціалізація</option>
                        <option>IT</option>
                        <option>Освіта</option>
                        <option>Что-то там</option>
                        <option>Что-то там2</option>
                    </select>
                </label>
                <label>
                    <select form="search" name="town" class="search_input">
                        <option hidden disabled selected>Пошук за містом</option>
                        <option>Київ</option>
                        <option>Харків</option>
                        <option>Львів</option>
                        <option>Одеса</option>
                    </select>
                </label>
            </form>
        </div>
        <div class="main__button">
            <button form="search">Знайти!</button>
        </div>
    </div>
</main>
<div id="search-list">

    <form id="sortForm" method="get" action="/vacancy/list">
    </form>


    <div id="sort">
        <div class="summary">
            <h4>Всього:</h4>
            <span><span th:text="${total}" th:remove="tag"></span> вакансій</span>
        </div>
        <div class="sort-by">
            <h4 class="sort">Сортувати:</h4>
            <div class="buttons">
                <input id='id' value="id" type="radio" name="sort" form="sortForm">
                <label for="id" class="radio">
                    за датою
                </label>
                <input id="salary" value="salary" type="radio" name="sort" form="sortForm">
                <label for="salary" class="radio">
                    за зарплатою
                </label>
            </div>
        </div>
    </div>


    <div id="category">
        <div class="cat-list">
            <h3>Категорія:</h3>

            <div th:each="c: ${categories}" th:remove="tag">
                <input th:id="'cat-' + ${c.getId()}" type="checkbox" form="sortForm" name="categ" th:value="${c.getId()}">
                <label class="checkbox" th:for="'cat-' + ${c.getId()}">
                    <span th:text="${c.getLongName()}" th:remove="tag"></span>&nbsp<span th:text="${c.getTotal()}"></span>
                </label>
            </div>

<!--            <input id="cat-2" type="checkbox">-->
<!--            <label class="checkbox" for="cat-2">-->
<!--                адміністрація <span>34</span>-->
<!--            </label>-->
<!--            <input id="cat-3" type="checkbox">-->
<!--            <label class="checkbox" for="cat-3">-->
<!--                дизайн <span>40</span>-->
<!--            </label>-->
        </div>


        <div class="type-list">
            <h3>Вид зайнятості:</h3>

            <input id="type-1" type="checkbox" name="type" form="sortForm">
            <label class="checkbox" for="type-1" >
                повна зайнятість <span th:text="${type[0].getTotal()}"></span>
            </label>
            <input id="type-2" type="checkbox" name="type" form="sortForm">
            <label class="checkbox" for="type-2">
                неповна зайнятість <span th:text="${type[1].getTotal()}"></span>
            </label>
            <input id="type-3" type="checkbox" name="type" form="sortForm">
            <label class="checkbox" for="type-3">
                дистанційна робота <span th:text="${type[2].getTotal()}"></span>
            </label>
            <input id="type-4" type="checkbox" name="type" form="sortForm">
            <label class="checkbox" for="type-4">
                часткова робота <span th:text="${type[3].getTotal()}"></span>
            </label>
            <input id="type-5" type="checkbox" name="type" form="sortForm">
            <label class="checkbox" for="type-5">
                проект <span th:text="${type[4].getTotal()}"></span>
            </label>
        </div>

        <div class="salary">
            <h3>Зарплата:</h3>

            <span>від</span>
            <div class="input">
                <label for="min" id="min-output"></label>
                <input type="range" id="min" step="1000">
            </div>
            <span>до</span>
            <div class="input">
                <label for="max" id="max-output"></label>
                <input type="range" id="max" step="1000">
            </div>
        </div>

    </div>

    <div id="vacancies">
        <div class="vacancy" th:each="v: ${vacancies}">
            <div class="text">
                <h3 th:text="${v.getUser().getName()}"></h3>
                <ul>
                    <li th:text="${v.getCategory().getLongName()}"></li>
                    <li th:text="${v.getType().getName()}"></li>
                    <li th:text="${#numbers.formatInteger(v.getSalary(), 3, 'WHITESPACE') + ' грн'}"></li>
                    <li><span th:text="${v.getCountry()}" th:remove="tag"></span> / <span th:text="${v.getCity()}" th:remove="tag"></span></li>
                </ul>
                <div class="hide">
                    <span>розгорнути ↓</span>
                </div>
            </div>
            <div class="buttons">
                <div class="mail">
                    <img src="/images/mail-vacancy.png" alt="mail">
                </div>
                <div class="heart">
                    <img src="/images/heart-vacancy.png" alt="like">
                </div>
                <div class="eye">
                    <img src="/images/eye-vacancy.png" alt="eye">
                </div>
            </div>
        </div>
        <div class="vacancy">

        </div>
        <div class="vacancy">

        </div>
    </div>
</div>

<script src="/script/script.js"></script>
<script src="/script/script-search.js"></script>
</body>
</html>